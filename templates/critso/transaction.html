<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Pie Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      margin: 0;
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Poppins', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .dashboard-container {
      background: #1e293b;
      border-radius: 24px;
      padding: 40px;
      width: 420px;
      max-width: 90%;
      box-shadow: 0 0 40px rgba(0,0,0,0.4);
      text-align: center;
    }

    .dashboard-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 25px;
      color: #38bdf8;
      letter-spacing: 1px;
    }

    .dashboard-chart {
      width: 100%;
      height: auto;
      margin-bottom: 20px;
    }

    .legend-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 15px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: #0f172a;
      border-radius: 8px;
      font-size: 14px;
      color: #e2e8f0;
      box-shadow: 0 0 10px rgba(56,189,248,0.1);
    }

    .legend-color {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      display: inline-block;
    }

    .footer-text {
      font-size: 13px;
      color: #94a3b8;
      margin-top: 25px;
    }
  </style>
</head>
<body>
  <div class="dashboard-container">
    <h2 class="dashboard-title">Sales Overview (2025)</h2>

    <canvas id="pieChart" class="dashboard-chart"></canvas>

    <div id="legend" class="legend-container"></div>

  </div>

  <script>
    const colors = [
      '#38bdf8', // Blue
      '#a78bfa', // Purple
      '#34d399', // Green
      '#fbbf24', // Yellow
      '#f87171'  // Red
    ];

    const data = {
 labels: [
    'Backlog',       
    'To Do',         
    'In Progress',   
    'Review',        
    'Done'           
  ],      datasets: [{
        data: [40, 20, 15, 15, 10],
        backgroundColor: colors,
        borderWidth: 5,
        borderColor: '#0f172a',
        hoverBorderColor: '#38bdf8',
        hoverOffset: 18
      }]
    };

    const config = {
      type: 'doughnut',
      data: data,
      options: {
        cutout: '65%',
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: '#1e293b',
            titleColor: '#38bdf8',
            bodyColor: '#f8fafc',
            borderColor: '#38bdf8',
            borderWidth: 1
          }
        },
        animation: {
          animateRotate: true,
          animateScale: true
        }
      }
    };

    const ctx = document.getElementById('pieChart').getContext('2d');
    const myChart = new Chart(ctx, config);

    // Custom Legend
    function renderLegend(chart) {
      const legend = document.getElementById('legend');
      legend.innerHTML = '';
      chart.data.labels.forEach((label, i) => {
        const div = document.createElement('div');
        div.className = 'legend-item';

        const colorSpan = document.createElement('span');
        colorSpan.className = 'legend-color';
        colorSpan.style.backgroundColor = chart.data.datasets[0].backgroundColor[i];

        div.appendChild(colorSpan);
        div.appendChild(document.createTextNode(`${label} - ${chart.data.datasets[0].data[i]}%`));
        legend.appendChild(div);
      });
    }

    renderLegend(myChart);
  </script>
</body>
</html>
